<root type="ability" class="melee">

  <name>Kromad&apos;s club</name>
  <description>
When the Troll shaman, Kromad the Terrifying, lost his bone club in the midst of a battle, he decided to smack enemies with pure magic energy. The spell became interesting enough for human mages to make a copy of it.  

Bonus for this spell depends:
  barely on choleric rune
  extremely on melancholice rune
  not at all on sanguine rune
  barely on phlegmatic rune
  </description>
  <icon>data/abilities/weapons/basher-0.png</icon>
  <unavailable-icon>data/abilities/weapons/basher-1.png</unavailable-icon>

  <!-- power = 1x cho, 4x mel, 0x san, 1x phl -->
  <power calc="0.2*((1*choleric+4*melancholic+0*sanguine+1*phlegmatic)/sqrt(1^2 + 4^2 + 0^2 + 1^2))*(((1*choleric+4*melancholic+0*sanguine+1*phlegmatic)/(sqrt(1^2+4^2+0^2+1^2)*sqrt(max(1,choleric^2+melancholic^2+sanguine^2+phlegmatic^2))))^10)"/>

  <effect type="list">
    <effect type="knockback">
      <amount calc="9.2" />
    </effect>
    <effect type="damage">
      <damage-type value="physical"/>
      <amount calc="21.0 * (1 + power)" />
    </effect>
    <effect type="damage">
      <damage-type value="vorpal"/>
      <amount calc="14.0 * (1 + power)" />
    </effect>
    <effect type="timed">
      <effect type="stun"/>
      <time calc="1.0 + ln(1 + power)"/>
    </effect>
    <effect type="graphical-effect">
      <name value="stars" />
      <time calc="1.0 + ln(1 + power)"/>
    </effect>
  </effect>

  <self-effect type="graphical-effect">
    <name value="magic-circle-2"/>
    <time value="0.35"/>
  </self-effect>  

  <range calc="1.1" />
  <width value="90.0" />

  <manacost calc="7.0 * (1 + power)" />
  <casttime calc="0.09" />
  <delay calc="0.05" />
  <cooldown calc="0.40" />

</root>
