<root type="ability" class="bullet">

  <name>$ABI_WEAPONS_SPARKRAIN</name>
  <description>$ABI_WEAPONS_SPARKRAIN_DESC</description>
  <icon>data/abilities/weapons/sparkrain-0.png</icon>
  <unavailable-icon>data/abilities/weapons/sparkrain-1.png</unavailable-icon>

  <!-- power = 4x cho, 0x mel, 4x san, 1x phl -->
  <!-- power = (0.05 * (4 * choleric + 0 * melancholic + 4 * sanguine + 1 * phlegmatic)) -->
  
  <effect type="list">
    <effect type="damage">
      <damage-type value="fire"/>
      <amount calc="10.5 + (4.5 * (0.05 * (4 * choleric + 0 * melancholic + 4 * sanguine + 1 * phlegmatic)))" />
    </effect>
    <effect type="knockback">
      <amount calc="1.0"/>
    </effect>
    <effect type="chance">
      <chance calc="0.25 + (0.005 * (0.05 * (4 * choleric + 0 * melancholic + 4 * sanguine + 1 * phlegmatic)))"/>
      <effect type="non-cumulative">
        <effect type="list">
          <effect type="graphical-effect">
            <name value="flames" />
            <time calc="4" />
          </effect>
          <effect type="sound">
            <name value="data/sounds/Lugaro/fire.ogg" />
          </effect>
          <effect type="timed">
            <time calc="4"/>
            <effect type="damage">
              <damage-type value="fire"/>
              <amount value="2 + (0.25 * (0.05 * (4 * choleric + 0 * melancholic + 4 * sanguine + 1 * phlegmatic)))"/>
            </effect>
          </effect>
        </effect>
      </effect>
    </effect>
  </effect>

  <delay-effect type="sound">
    <name value="data/sounds/shotgun.wav" />
  </delay-effect>

  <range calc="4.0" />
  <speed calc="12.0" />
  <acceleration value="1.0" />
  <explode-on-fade value="1" />
  <count calc="12 + (0.16 * (0.05 * (4 * choleric + 0 * melancholic + 4 * sanguine + 1 * phlegmatic)))" />
  <width calc="36.0" />
  <bullet value="data/physicals/bullets/firespark.xml" />
  <filter value="wall,hostiles,obstacles"/>
  <spread-type value="shotgun"/>
  <speed-fuzziness value="1.0" />

  <manacost calc="27 * (1 + (0.05 * (4 * choleric + 0 * melancholic + 4 * sanguine + 1 * phlegmatic)))" />
  <casttime calc="0.09" />
  <delay calc="0.05" />
  <cooldown calc="0.66" />
  
</root>
