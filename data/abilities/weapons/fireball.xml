<root type="ability" class="bullet">

  <name>$ABI_WEAPONS_FIREBALL</name>
  <description>$ABI_WEAPONS_FIREBALL_DESC</description>
  <icon>data/abilities/weapons/fireball-0.png</icon>
  <unavailable-icon>data/abilities/weapons/fireball-0.png</unavailable-icon>

  <!-- power = 5x cho, 0x mel, 3x san, 1x phl -->
  <!-- power = (0.05 * (5 * choleric + 0.0 * melancholic + 3 * sanguine + 1 * phlegmatic)) --> 
  
  <explosion type="list">
    <effect type="graphical-effect">
      <name value="bullet-explosion" />
      <time value="1.0" />
    </effect>
    <effect type="graphical-effect">
      <name value="shockwave" />
      <time value="0.33" />
    </effect>
    <effect type="graphical-effect">
      <time value="0.1" />
      <name value="tinyfireball" />
    </effect>
  <effect type="sound">
    <name value="data/sounds/Lugaro/firestart.ogg" />
  </effect>
  <effect type="area">
      <area calc="1.0" />
    <filter value="player" />
      <effect type="list">
        <effect type="damage">
          <damage-type value="fire"/>
          <amount calc="3.0 * (1 + (0.05 * (5 * choleric + 0 * melancholic + 3 * sanguine + 1 * phlegmatic)))" />
        </effect>
        <effect type="knockback">
          <amount calc="1.25"/>
        </effect>
      </effect>
    </effect>     
    
    <effect type="area">
      <area calc="1.0" />
      <filter value="hostiles,obstacle" />
      <effect type="list">
        <effect type="damage">
          <damage-type value="fire"/>
          <amount calc="16.0 * (1 + (0.05 * (5 * choleric + 0 * melancholic + 3 * sanguine + 1 * phlegmatic)))" />
        </effect>
        <effect type="knockback">
          <amount calc="1.25"/>
        </effect>
        <effect type="chance">
          <chance calc="0.25 + (0.005 * (0.05 * (5 * choleric + 0 * melancholic + 3 * sanguine + 1 * phlegmatic)))"/>
          <effect type="non-cumulative">
            <effect type="list">
              <effect type="graphical-effect">
                <name value="flames" />
                <time calc="4" />
              </effect>
              <effect type="sound">
                <name value="data/sounds/Lugaro/fire.ogg" />
              </effect>
              <effect type="timed">
                <time calc="4"/>
                <effect type="damage">
                  <damage-type value="fire"/>
                  <amount calc="2 + (0.25 * (0.05 * (5 * choleric + 0 * melancholic + 3 * sanguine + 1 * phlegmatic)))"/>
                </effect>
              </effect>
            </effect>
          </effect>
        </effect>

      </effect>
    </effect>
  </explosion>

  <range calc="12.0" />
  <speed value="5.0" />
  <acceleration value="1.0" />
  <explode-on-fade value="1" />
  <ttl value="0.6" />
  <bullet value="data/physicals/bullets/fireball.xml" />
  <bullet-angular-speed value="-1440" />

  <manacost calc="6.0 * (1 + (0.2 * (1.0 * choleric + 0.0 * melancholic + 0.3 * sanguine + 0.2 * phlegmatic)))" />
  <casttime calc="0.09" />
  <delay calc="0.05" />
  <cooldown value="0.60" />

</root>
