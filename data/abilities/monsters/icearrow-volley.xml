<root type="ability" class="self">

  <name>$ABI_WATER_ICEARROW</name>
  <icon>data/player/icearrow.png</icon>
  <unavailable-icon>data/player/icearrow-grey.png</unavailable-icon>
  <description>$ABI_WATER_ICEARROW_DESC</description>

	<effect type="recastable">
		<recast value="0.05"/>
		<time value="0.3" />
		<effect type="list">
			<effect type="bullet" tag="icearrow-volley-tag">		
				<emitter>
				<range calc="16.0" />
				<speed value="8.5" />
				<acceleration value="3.0" />
				<count calc="1" />
				<width calc="20" />
				<explode-on-fade value="1" />
				<bullet value="data/physicals/bullets/icicle.xml" />
				<extra-offset value="0.3"/>			
				<filter value="player,wall" />
				
				<effect type="list">
					<effect type="non-cumulative">
						<effect type="timed">
							<time value="1.75" />
							<effect type="modify">
								<amount value="0.4" />
								<aspect value="speed" />
							</effect>
						</effect>
					</effect>
					<effect type="graphical-effect">
						<time value="1.75" />
						<name value="colorize-blue" />
					</effect>
					<effect type="graphical-effect">
						<time value="0.8" />
						<name value="blue-explosion-mini" />
					</effect>
					<effect type="sound">
						<name value="data/sounds/Lugaro/whoosh.ogg" />
					</effect>
					<effect type="damage">
						<amount value="12.0" />
						<damage-type value="ice"/>
					</effect>
				</effect>			
				</emitter>
			</effect>
			<!-- cast multiple random bullets per frame -->
			<effect type="jump">
				<name value="icearrow-volley-tag"/>
			</effect>
			<effect type="jump">
				<name value="icearrow-volley-tag"/>
			</effect>
			<effect type="jump">
				<name value="icearrow-volley-tag"/>
			</effect>
		</effect>
	</effect>
  
  <manacost value="0" />
  <range value="12.0" />
  <speed value="7.0" />
  <ttl value="0.8" />
  <bullet value="data/physicals/bullets/icicle.xml" />
  
  <casttime value="0.085" />
  <delay value="0.1" />
  <cooldown value="60.0" />
  <filter value="player,wall,door" />
  
  <delay-time-effect type="modify">
	<aspect value="speed" />
	<amount value="0.0" />
  </delay-time-effect>

  <ai-hint>
    <player-distance>5.0</player-distance>
    <player-angle>5</player-angle>
  </ai-hint>
  
</root>
